webpackJsonp([1],{DWP9:function(t,e){},FcyU:function(t,e){},JLju:function(t,e){},Liux:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("qM1Q"),i={data:function(){return{grade:5,scoreArr:[],star_on:"star_on",star_half:"star_half",star_off:"star_off"}},props:{size:{validator:function(t){return 48==t||24==t||36==t}},score:{validator:function(t){return t>=0&&t<=5}}},computed:{start_size:function(){return"star-"+this.size},start_status:function(){this.scoreArr=[];for(var t=0;t<this.grade;t++)this.scoreArr.push(this.star_off);for(var e=this.score,s=Math.floor(e),a=0;a<s;a++)this.scoreArr[a]=this.star_on;return e-s>=.5&&(this.scoreArr[s]=this.star_half),this.scoreArr}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"star"},t._l(t.start_status,function(e,a){return s("span",{class:[t.start_size,e]})}))},staticRenderFns:[]},n=s("Mw9A")(i,r,!1,function(t){s("DWP9")},null,null).exports,o={render:function(){var t=this.$createElement;return(this._self._c||t)("span",{class:["support-icon",this.classMap[this.supportType]]})},staticRenderFns:[]},l=s("Mw9A")({data:function(){return{classMap:[]}},props:["supportType"],created:function(){this.classMap=["decrease","discount","guarantee","special","invoice",""]}},o,!1,function(t){s("PiCS")},null,null).exports,c={data:function(){return{detailShow:!1}},props:{seller:{type:Object}},methods:{detailShowOrHide:function(){this.detailShow=!this.detailShow}},components:{my_star:n,supportIcon:l}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"content-wrapper"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:t.seller.avatar,width:"64",height:"64"}})]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"title"},[s("span",{staticClass:"brand"}),t._v(" "),s("span",{staticClass:"name"},[t._v("\n                "+t._s(t.seller.name)+"\n            ")])]),t._v(" "),s("div",{staticClass:"description"},[t._v(t._s(t.seller.description)+"/"+t._s(t.seller.deliveryTime)+"分钟送达")]),t._v(" "),t.seller.supports?s("div",{staticClass:"support"},[s("div",{staticClass:"support-icon"},[s("supportIcon",{attrs:{supportType:t.seller.supports[0].type}})],1),t._v(" "),s("span",{staticClass:"text"},[t._v("\n                "+t._s(t.seller.supports[0].description)+"\n            ")])]):t._e()]),t._v(" "),t.seller.supports?s("div",{staticClass:"support-count",on:{click:t.detailShowOrHide}},[s("span",[t._v(t._s(t.seller.supports.length)+"个")]),t._v(" "),s("span",[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-keyboard_arrow_right"}})])])]):t._e()]),t._v(" "),s("div",{staticClass:"bulletin-wrapper"},[s("span"),s("span",[t._v(t._s(t.seller.bulletin))]),s("span",[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-keyboard_arrow_right"}})])])]),t._v(" "),s("div",{staticClass:"background"},[s("img",{attrs:{src:t.seller.avatar,width:"100%",height:"100%"}})]),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.detailShow,expression:"detailShow"}],staticClass:"detail"},[s("div",{staticClass:"detail-wrapper"},[s("h1",[t._v(t._s(t.seller.name))]),t._v(" "),s("div",{staticClass:"star-wrapper"},[s("my_star",{attrs:{size:48,score:t.seller.score}})],1),t._v(" "),s("div",{staticClass:"title"},[s("div",{staticClass:"line"}),t._v(" "),s("div",{staticClass:"text"},[t._v("优惠信息")]),t._v(" "),s("div",{staticClass:"line"})]),t._v(" "),s("ul",{staticClass:"discount-list"},t._l(t.seller.supports,function(e,a){return s("li",{staticClass:"discount-item"},[s("span",{staticClass:"discount-item-icon"},[s("supportIcon",{attrs:{supportType:a}})],1),t._v(" "),s("span",{staticClass:"discount-item-text"},[t._v(t._s(e.description))])])})),t._v(" "),s("div",{staticClass:"title"},[s("div",{staticClass:"line"}),t._v(" "),s("div",{staticClass:"text"},[t._v("商家公告")]),t._v(" "),s("div",{staticClass:"line"})]),t._v(" "),s("div",{staticClass:"seller-info"},[t._v("\n                    "+t._s(t.seller.bulletin)+"\n                ")])]),t._v(" "),s("div",{staticClass:"detail-close",on:{click:t.detailShowOrHide}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-close"}})])])])])],1)},staticRenderFns:[]},u={data:function(){return{seller:{},ratings:{}}},components:{my_header:s("Mw9A")(c,d,!1,function(t){s("g1vV")},null,null).exports},created:function(){var t=this;this.$http.get("/data.json").then(function(e){t.seller=e.data.seller,t.ratings=e.data.ratings})}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("my_header",{attrs:{seller:this.seller}}),this._v(" "),e("div",{staticClass:"tab"},[e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:"goods"}},[this._v("商品")])],1),this._v(" "),e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:"ratings"}},[this._v("评论")])],1),this._v(" "),e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:"seller"}},[this._v("商家")])],1)]),this._v(" "),e("div",{staticClass:"content"},[e("keep-alive",[e("router-view",{attrs:{seller:this.seller}})],1)],1)],1)},staticRenderFns:[]},p=s("Mw9A")(u,v,!1,function(t){s("x2OY")},null,null).exports,h=s("zO6J"),m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("h1",[this._v(this._s(this.msg))]),this._v(" "),e("h2",[this._v("Essential Links")]),this._v(" "),this._m(0),this._v(" "),e("h2",[this._v("Ecosystem")]),this._v(" "),this._m(1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[this._v("Core Docs")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[this._v("Forum")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[this._v("Community Chat")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[this._v("Twitter")])]),this._v(" "),e("br"),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[this._v("Docs for This Template")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("vue-router")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("vuex")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("vue-loader")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("awesome-vue")])])])}]},f=(s("Mw9A")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},m,!1,function(t){s("Liux")},"data-v-5461e430",null).exports,s("4YfN")),_=s.n(f),g=s("9rMa"),C={computed:_()({},Object(g.c)(["selected"])),props:["food"],methods:_()({},Object(g.b)(["addItem","reduceItem"]),{ballActive:function(t){!1===this.identify&&(this.identify=!0),this.addItem(this.food);var e=this.$refs.addBtn,s=document.createElement("div");s.className="ball";var a=document.createElement("div");a.className="ball-y",s.appendChild(a),e.appendChild(s);var i=s.getBoundingClientRect().left,r=s.getBoundingClientRect().top,n=(window.innerWidth,-(i-40)),o=window.innerHeight-29-r;s.style.left=n+"px",a.style.top=o+"px",a.addEventListener("transitionend",function(){s.parentNode.removeChild(s)}),t.stopPropagation()},reduce:function(t){this.food.count>0&&(this.food.count-=1),t.stopPropagation()}})},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"preventPop",staticClass:"cart-ctrl"},[e("transition",{attrs:{name:"revolve"}},[this.food.count?e("span",{staticClass:"reduce",on:{tap:this.reduce,click:this.reduce}},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-remove_circle_outlin"}})])]):this._e()]),this._v(" "),e("transition",{attrs:{name:"total"}},[this.food.count?e("span",{staticClass:"amount"},[this._v(this._s(this.food.count))]):this._e()]),this._v(" "),e("span",{ref:"addBtn",staticClass:"add",on:{tap:this.ballActive,click:this.ballActive}},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-add_circle"}})])])],1)},staticRenderFns:[]},y=s("Mw9A")(C,w,!1,function(t){s("t1iC")},null,null).exports,T={data:function(){return{minimum:20,postage:4,show:!1}},watch:{selectedGood:{handler:function(t){0===t.length&&(this.show=!1)},deep:!0}},computed:_()({},Object(g.c)(["selected"]),{selectedGood:function(){var t=[];for(var e in this.selected)this.selected[e].count>0&&t.push(this.selected[e]);return t},total:function(){var t=0;for(var e in this.selected)t+=this.selected[e].count*this.selected[e].price;return t}}),mounted:function(){this.$refs.wrapper.style.height=window.innerHeight+"px"},methods:{closeCount:function(){alert("支付"+this.total+"元")},amount:function(){var t=0;this.selectedGood.forEach(function(e){t+=e.total*e.price}),this.total=t},showOrNot:function(){this.selectedGood.length>0&&(this.show=!this.show)},clear:function(){for(var t in this.selected)this.selected[t].count=0}},components:{cartCtrl:y}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart-container"},[s("div",{staticClass:"cart-left"},[s("span",{staticClass:"cart-icon",class:{blue:t.selectedGood.length},on:{click:t.showOrNot}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-shopping_cart"}})])]),t._v(" "),s("span",{staticClass:"cart-amount",class:{"have-food":t.selectedGood.length}},[t._v("\n            ￥"+t._s(t.total)+"\n        ")]),t._v(" "),s("span",{staticClass:"cart-pack-fee"},[t._v("\n            另需配送费￥"+t._s(t.postage)+"元\n        ")])]),t._v(" "),t.total<t.minimum?s("div",{staticClass:"cart-right"},[t._v("\n        ￥"+t._s(t.minimum)+"元起送\n    ")]):t._e(),t._v(" "),t.total>=t.minimum?s("div",{staticClass:"cart-right green",on:{click:t.closeCount}},[t._v("\n        去结算\n    ")]):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.selectedGood.length&&t.show,expression:"selectedGood.length && show"}],ref:"wrapper",staticClass:"list-wrapper"},[s("div",{staticClass:"cart-list"},[s("div",{staticClass:"cart-list-title"},[s("span",[t._v("购物车")]),t._v(" "),s("span",{on:{click:t.clear}},[t._v("清空")])]),t._v(" "),s("ul",{staticClass:"cart-list-items"},t._l(t.selected,function(e){return e.count?s("li",{staticClass:"cart-list-item"},[s("div",{staticClass:"goodsName"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"goodsPrice"},[s("span",[t._v("￥")]),t._v(t._s(e.price))]),t._v(" "),s("div",{staticClass:"cartCtrl"},[s("cartCtrl",{attrs:{food:t.selected[e.name]}})],1)]):t._e()}))])])])},staticRenderFns:[]},b=s("Mw9A")(T,x,!1,function(t){s("mV0Q")},"data-v-a887bbd8",null).exports,k={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"split"})},staticRenderFns:[]},j=s("Mw9A")({data:function(){return{}},methods:{}},k,!1,function(t){s("FcyU")},null,null).exports,F={data:function(){return{blankFilterFlag:!0}},props:{ratings:{type:Array,default:function(){return[]}}},computed:{goodRatings:function(){var t=0;return this.ratings.forEach(function(e){0===e.rateType&&t++}),t},badRatings:function(){var t=0;return this.ratings.forEach(function(e){1===e.rateType&&t++}),t},ratingsAmount:function(){return this.ratings.length}},methods:{select:function(t){var e=document.querySelectorAll("span.block");e.forEach(function(t){t.classList.contains("active")&&t.classList.remove("active")}),e[t].classList.add("active"),0===t?this.$emit("selectRating","all"):1===t?this.$emit("selectRating","good"):2===t&&this.$emit("selectRating","bad")},blankFilter:function(){this.blankFilterFlag=!this.blankFilterFlag,this.blankFilterFlag?this.$emit("blankFilter","hide"):this.$emit("blankFilter","show")},initRatings:function(){var t=0,e=0;this.ratings.forEach(function(s){0===s.rateType?t++:1===s.rateType&&e++});var s=t+e;this.goodRatings=t,this.badRatings=e,this.allRatings=s}}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ratingselect"},[s("div",{staticClass:"rating-type border-1px"},[s("span",{staticClass:"block positive",on:{tap:function(e){t.select(0)}}},[t._v("全部"),s("span",{staticClass:"count"},[t._v(t._s(t.ratingsAmount))])]),t._v(" "),s("span",{staticClass:"block positive",on:{tap:function(e){t.select(1)}}},[t._v("满意"),s("span",{staticClass:"count"},[t._v(t._s(t.goodRatings))])]),t._v(" "),s("span",{staticClass:"block negative",on:{tap:function(e){t.select(2)}}},[t._v("不满意"),s("span",{staticClass:"count"},[t._v(t._s(t.badRatings))])])]),t._v(" "),s("div",{staticClass:"switch"},[s("svg",{staticClass:"icon",class:{on:t.blankFilterFlag},attrs:{"aria-hidden":"true"},on:{tap:t.blankFilter}},[s("use",{attrs:{"xlink:href":"#icon-check_circle"}})]),t._v(" "),s("span",{staticClass:"text"},[t._v("只看有内容的评价")])])])},staticRenderFns:[]},S=s("Mw9A")(F,E,!1,function(t){s("vmTm")},null,null).exports,$={data:function(){return{selectedStatus:"all",flag:"hide",detailFlag:""}},props:{food:{type:Object},ratings:{type:Array,default:function(){return[]}}},computed:_()({},Object(g.c)(["selected"]),{realRatings:function(){return this.blankFilter(this.typeFilter(this.ratings,this.selectedStatus),this.flag)}}),methods:_()({},Object(g.b)(["addItem"]),{initScroll:function(){this.detailScroll=new this.$bs(this.$refs.foodDetail,{probeType:3,swipeTime:2500,deceleration:.001,tap:!0})},close:function(){this.$emit("close")},typeFilter:function(t,e){if("all"===e)return t;if("good"===e){var s=[];return t.forEach(function(t){0==t.rateType&&s.push(t)}),s}if("bad"===e){var a=[];return t.forEach(function(t){1==t.rateType&&a.push(t)}),a}},blankFilter:function(t,e){if("show"===e){var s=[];return t.forEach(function(t){s.push(t)}),s}if("hide"===this.flag){var a=[];return t.forEach(function(t){""!==t.text&&a.push(t)}),a}},ratingMap:function(t){this.selectedStatus=t},changeFlag:function(t){this.flag=t}}),created:function(){var t=this;this.$nextTick(function(){t.initScroll()})},components:{split:j,ratingSelect:S,cartCtrl:y}},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.detailFlag,expression:"detailFlag"}],ref:"foodDetail",staticClass:"food"},[s("div",{staticClass:"food-content"},[s("div",{staticClass:"image-header"},[s("img",{attrs:{src:t.food.image,alt:""}}),t._v(" "),s("div",{staticClass:"back",on:{tap:t.close}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-arrow_lift"}})])])]),t._v(" "),s("div",{staticClass:"content"},[s("h1",{staticClass:"title"},[t._v(t._s(t.food.name))]),t._v(" "),s("div",{staticClass:"detail"},[s("span",{staticClass:"sell-count"},[t._v("月售 "+t._s(t.food.sellCount)+" ")]),t._v(" "),s("span",{staticClass:"rating"},[t._v("好评率"+t._s(t.food.rating)+"%")])]),t._v(" "),s("div",{staticClass:"price"},[s("span",{staticClass:"now"},[t._v("￥26")]),s("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"old"},[t._v("￥"+t._s(t.food.oldPrice))])]),t._v(" "),s("div",{staticClass:"cartcontrol-wrapper"},[s("cartCtrl",{directives:[{name:"show",rawName:"v-show",value:t.food.count,expression:"food.count"}],attrs:{food:t.food}})],1),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.food.count,expression:"!food.count"}],staticClass:"buy",on:{tap:function(e){t.addItem(t.food)}}},[t._v("加入购物车")])])],1),t._v(" "),s("split"),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.food.info,expression:"food.info"}],staticClass:"info"},[s("h1",{staticClass:"title"},[t._v("商品信息")]),t._v(" "),s("p",{staticClass:"text"},[t._v(t._s(t.food.info))])]),t._v(" "),s("div",{staticClass:"rating"},[s("h1",{staticClass:"title"},[t._v("商品评价")]),t._v(" "),s("ratingSelect",{attrs:{ratings:t.ratings},on:{selectRating:t.ratingMap,blankFilter:t.changeFlag}}),t._v(" "),s("div",{staticClass:"rating-wrapper"},[s("ul",{directives:[{name:"show",rawName:"v-show",value:t.food.ratings&&t.food.ratings.length,expression:"food.ratings && food.ratings.length"}]},t._l(t.realRatings,function(e){return s("li",{staticClass:"rating-item border-1px rating-hook",attrs:{type:e.rateType,blank:e.text}},[s("div",{staticClass:"user"},[s("span",{staticClass:"name"},[t._v(t._s(e.username)+" ")]),t._v(" "),s("img",{staticClass:"avatar",attrs:{src:e.avatar,width:"12",height:"12"}})]),t._v(" "),s("div",{staticClass:"time"},[t._v(t._s(e.rateTime))]),t._v(" "),s("div",{staticClass:"text"},[0===e.rateType?s("svg",{staticClass:"icon icon-thumb_up",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-thumb_up"}})]):t._e(),t._v(" "),s("svg",{staticClass:"icon icon-thumb_down",attrs:{"aria-hidden":"true"}},[1===e.rateType?s("use",{attrs:{"xlink:href":"#icon-thumb_down"}}):t._e()]),t._v("\n                            "+t._s(e.text)+"\n                        ")])])})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.food.ratings||!t.food.ratings.length,expression:"!food.ratings || !food.ratings.length"}],staticClass:"no-rating"},[t._v("暂无评价")])])],1)],1)])},staticRenderFns:[]},A=s("Mw9A")($,R,!1,function(t){s("bWJu")},null,null).exports,I={data:function(){return{goodsTypeIndex:0,goodsTypeHeight:[],foodSelected:{},detailFlag:!1}},computed:_()({},Object(g.c)(["goods","selected"]),{selectedGoods:function(){var t=[];return this.goods.forEach(function(e){e.foods.forEach(function(e){0!==e.count&&t.push(e)})}),t}}),methods:_()({},Object(g.b)(["init"]),{initHeightArr:function(){if(0!==this.goodsTypeHeight.length)return!1;for(var t=this.$refs.goodsWrapper.getElementsByClassName("food-list-hook"),e=0,s=0;s<t.length;s++)e+=t[s].offsetHeight,this.goodsTypeHeight.push(e)},scrollInit:function(){this.scrollGoods=new this.$bs(this.$refs.goodsWrapper,{probeType:3,swipeTime:2500,deceleration:.001,tap:!0}),this.scrollMenu=new this.$bs(this.$refs.menuWrapper,{tap:!0})},calculateHeight:function(){var t=this;this.scrollGoods.on("scroll",function(e){t.initHeightArr();var s=-e.y;t.goodsTypeIndex=0;for(var a=0;a<t.goodsTypeHeight.length;a++)s>=t.goodsTypeHeight[a]&&a+1!==t.goodsTypeHeight.length&&(t.goodsTypeIndex=a+1)})},selectedType:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.initHeightArr(),this.goodsTypeIndex=t,0===t?this.scrollGoods.scrollTo(0,0):this.scrollGoods.scrollTo(0,-this.goodsTypeHeight[t-1])},showDetail:function(t){this.foodSelected=this.selected[t.name],this.detailFlag=!0},closeDetail:function(){this.detailFlag=!1}}),created:function(){this.init(),this.$nextTick(function(){this.scrollInit(),this.calculateHeight()})},components:{supportIcon:l,cart:b,cartCtrl:y,food:A}},N={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goods"},[s("div",{ref:"menuWrapper",staticClass:"menu-wrapper"},[s("ul",t._l(t.goods,function(e,a){return s("li",{class:[a===t.goodsTypeIndex?"menu-selected":""],on:{tap:function(e){t.selectedType(a)}}},[s("div",{staticClass:"li-layout"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.type>=0,expression:"item.type>=0"}],staticClass:"support"},[s("supportIcon",{attrs:{supportType:e.type}})],1),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(e.name))])])])}))]),t._v(" "),s("div",{ref:"goodsWrapper",staticClass:"goods-wrapper"},[s("ul",{staticClass:"goods-items"},t._l(t.goods,function(e,a){return s("li",{staticClass:"type-items"},[s("ul",{staticClass:"type-item food-list-hook"},[s("span",{staticClass:"title"},[t._v(t._s(e.name))]),t._v(" "),t._l(e.foods,function(e){return s("li",{staticClass:"goods-item",on:{tap:function(s){t.showDetail(e)}}},[s("div",{staticClass:"goods-avatar"},[s("img",{attrs:{src:e.icon,alt:"",width:"57",height:"57"}})]),t._v(" "),s("div",{staticClass:"detail"},[s("div",{staticClass:"goods-title"},[t._v(t._s(e.name))]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.description,expression:"food.description"}]},[t._v(t._s(e.description))]),t._v(" "),s("p",[s("span",{staticClass:"sellCount"},[t._v("月售"+t._s(e.sellCount)+"份")]),s("span",{staticClass:"rating"},[t._v("好评率"+t._s(e.rating)+"%")])]),t._v(" "),s("div",{staticClass:"price-detail"},[s("span",{staticClass:"price"},[t._v("￥"+t._s(e.price))]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.oldPrice,expression:"food.oldPrice"}],staticClass:"oldPrice"},[t._v("￥"+t._s(e.oldPrice))]),t._v(" "),s("div",{ref:"button",refInFor:!0,staticClass:"button"},[s("cartCtrl",{attrs:{food:t.selected[e.name]}})],1)])])])})],2)])}))]),t._v(" "),s("cart",{staticClass:"cart"}),t._v(" "),s("transition",{attrs:{name:"rightIn"}},[s("food",{directives:[{name:"show",rawName:"v-show",value:t.detailFlag,expression:"detailFlag"}],attrs:{food:t.foodSelected,ratings:t.foodSelected.ratings},on:{close:t.closeDetail}})],1)],1)},staticRenderFns:[]},M=s("Mw9A")(I,N,!1,function(t){s("JLju")},null,null).exports,O={data:function(){return{seller:{name:"粥品香坊（回龙观）",description:"蜂鸟专送",deliveryTime:38,score:4.2,serviceScore:4.1,foodScore:4.3,rankRate:69.2,minPrice:20,deliveryPrice:4,ratingCount:24,sellCount:90,bulletin:"粥品香坊其烹饪粥料的秘方源于中国千年古法，在融和现代制作工艺，由世界烹饪大师屈浩先生领衔研发。坚守纯天然、0添加的良心品质深得消费者青睐，发展至今成为粥类的引领品牌。是2008年奥运会和2013年园博会指定餐饮服务商。",supports:[{type:0,description:"在线支付满28减5"},{type:1,description:"VC无限橙果汁全场8折"},{type:2,description:"单人精彩套餐"},{type:3,description:"该商家支持发票,请下单写好发票抬头"},{type:4,description:"已加入“外卖保”计划,食品安全保障"}],avatar:"http://static.galileo.xiaojukeji.com/static/tms/seller_avatar_256px.jpg",pics:["http://fuss10.elemecdn.com/8/71/c5cf5715740998d5040dda6e66abfjpeg.jpeg?imageView2/1/w/180/h/180","http://fuss10.elemecdn.com/b/6c/75bd250e5ba69868f3b1178afbda3jpeg.jpeg?imageView2/1/w/180/h/180","http://fuss10.elemecdn.com/f/96/3d608c5811bc2d902fc9ab9a5baa7jpeg.jpeg?imageView2/1/w/180/h/180","http://fuss10.elemecdn.com/6/ad/779f8620ff49f701cd4c58f6448b6jpeg.jpeg?imageView2/1/w/180/h/180"],infos:["该商家支持发票,请下单写好发票抬头","品类:其他菜系,包子粥店","北京市昌平区回龙观西大街龙观置业大厦底商B座102单元1340","营业时间:10:00-20:30"]},ratings:[{username:"3******c",rateTime:1469281964e3,deliveryTime:30,score:5,rateType:0,text:"不错,粥很好喝,我经常吃这一家,非常赞,以后也会常来吃,强烈推荐.",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:["南瓜粥","皮蛋瘦肉粥","扁豆焖面","娃娃菜炖豆腐","牛肉馅饼"]},{username:"2******3",rateTime:1469271264e3,score:4,rateType:0,deliveryTime:"",text:"服务态度不错",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:["扁豆焖面"]},{username:"3******b",rateTime:1469261964e3,score:3,rateType:1,text:"",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"1******c",rateTime:1469261864e3,deliveryTime:20,score:5,rateType:0,text:"良心店铺",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"2******d",rateTime:1469251264e3,deliveryTime:10,score:4,rateType:0,text:"",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"9******0",rateTime:1469241964e3,deliveryTime:70,score:1,rateType:1,text:"送货速度蜗牛一样",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"d******c",rateTime:1469231964e3,deliveryTime:30,score:5,rateType:0,text:"很喜欢的粥店",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"2******3",rateTime:1469221264e3,deliveryTime:"",score:4,rateType:0,text:"量给的还可以",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"3******8",rateTime:1469211964e3,deliveryTime:"",score:3,rateType:1,text:"",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"a******a",rateTime:1469201964e3,deliveryTime:"",score:4,rateType:0,text:"孩子喜欢吃这家",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:["南瓜粥"]},{username:"3******3",rateTime:1469191264e3,deliveryTime:"",score:4,rateType:0,text:"粥挺好吃的",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"t******b",rateTime:1469181964e3,deliveryTime:"",score:3,rateType:1,text:"",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"f******c",rateTime:1469171964e3,deliveryTime:15,score:5,rateType:0,text:"送货速度很快",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"k******3",rateTime:1469161264e3,deliveryTime:"",score:4,rateType:0,text:"",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"u******b",rateTime:1469151964e3,deliveryTime:"",score:4,rateType:0,text:"下雨天给快递小哥点个赞",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"s******c",rateTime:1469141964e3,deliveryTime:"",score:4,rateType:0,text:"好",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"z******3",rateTime:1469131264e3,deliveryTime:"",score:5,rateType:0,text:"吃了还想再吃",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"n******b",rateTime:1469121964e3,deliveryTime:"",score:3,rateType:1,text:"发票开的不对",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"m******c",rateTime:1469111964e3,deliveryTime:30,score:5,rateType:0,text:"好吃",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"l******3",rateTime:1469101264e3,deliveryTime:40,score:5,rateType:0,text:"还不错吧",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"3******o",rateTime:1469091964e3,deliveryTime:"",score:2,rateType:1,text:"",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"3******p",rateTime:1469081964e3,deliveryTime:"",score:4,rateType:0,text:"很喜欢的粥",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"o******k",rateTime:1469071264e3,deliveryTime:"",score:5,rateType:0,text:"",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]},{username:"k******b",rateTime:1469061964e3,deliveryTime:"",score:4,rateType:0,text:"",avatar:"http://static.galileo.xiaojukeji.com/static/tms/default_header.png",recommend:[]}],selectedStatus:"all",flag:"hide"}},computed:{realRatings:function(){return this.blankFilter(this.typeFilter(this.ratings,this.selectedStatus),this.flag)}},components:{split:j,star:n,ratingSelect:S},methods:{initScroll:function(){new this.$bs(this.$refs.ratings,{tap:!0})},typeFilter:function(t,e){if("all"===e)return t;if("good"===e){var s=[];return t.forEach(function(t){0==t.rateType&&s.push(t)}),s}if("bad"===e){var a=[];return t.forEach(function(t){1==t.rateType&&a.push(t)}),a}},blankFilter:function(t,e){if("show"===e){var s=[];return t.forEach(function(t){s.push(t)}),s}if("hide"===this.flag){var a=[];return t.forEach(function(t){""!==t.text&&a.push(t)}),a}},ratingFilter:function(t){this.selectedStatus=t},changeFlag:function(t){this.flag=t}},created:function(){var t=this;this.$nextTick(function(){t.initScroll()})}},H={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"ratings",staticClass:"ratings"},[s("div",{staticClass:"ratings-content"},[s("div",{staticClass:"overview"},[s("div",{staticClass:"overview-left"},[s("h1",{staticClass:"score"},[t._v(t._s(t.seller.score))]),t._v(" "),s("div",{staticClass:"title"},[t._v("综合评分")]),t._v(" "),s("div",{staticClass:"rank"},[t._v("高于周边商家"+t._s(t.seller.rankRate))])]),t._v(" "),s("div",{staticClass:"overview-right"},[s("div",{staticClass:"score-wrapper"},[s("span",{staticClass:"title"},[t._v("服务态度")]),t._v(" "),s("star",{attrs:{size:36,score:t.seller.serviceScore}}),t._v(" "),s("span",{staticClass:"score"},[t._v(t._s(t.seller.serviceScore))])],1),t._v(" "),s("div",{staticClass:"score-wrapper"},[s("span",{staticClass:"title"},[t._v("商品评分")]),t._v(" "),s("star",{attrs:{size:36,score:t.seller.foodScore}}),t._v(" "),s("span",{staticClass:"score"},[t._v(t._s(t.seller.foodScore))])],1),t._v(" "),s("div",{staticClass:"delivery-wrapper"},[s("span",{staticClass:"title"},[t._v("送达时间")]),t._v(" "),s("span",{staticClass:"delivery"},[t._v(t._s(t.seller.deliveryTime)+"分钟")])])])]),t._v(" "),s("split"),t._v(" "),s("ratingSelect",{attrs:{ratings:t.ratings},on:{selectRating:t.ratingFilter,blankFilter:t.changeFlag}}),t._v(" "),s("div",{staticClass:"rating-wrapper"},[s("ul",t._l(t.realRatings,function(e){return s("li",{staticClass:"rating-item border-1px rating-hook",attrs:{type:e.rateType,blank:e.text}},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:e.avatar,width:"28",height:"28"}})]),t._v(" "),s("div",{staticClass:"content"},[s("h1",{staticClass:"name"},[t._v(t._s(e.username))]),t._v(" "),s("div",{staticClass:"star-wrapper"},[s("star",{attrs:{size:24,score:e.score}}),t._v(" "),e.deliveryTime?s("span",{staticClass:"delivery"},[t._v(t._s(e.deliveryTime))]):t._e()],1),t._v(" "),s("p",{staticClass:"text"},[t._v(t._s(e.text))]),t._v(" "),e.recommend&&e.recommend.length?s("div",{staticClass:"recommend"},t._l(e.recommend,function(e){return s("span",{staticClass:"item"},[t._v(t._s(e))])})):t._e(),t._v(" "),s("div",{staticClass:"time"},[t._v("\n                            "+t._s(e.rateTime)+"\n                        ")])])])}))])],1)])},staticRenderFns:[]},D=s("Mw9A")(O,H,!1,function(t){s("j1lm")},null,null).exports,P={data:function(){return{favoriteText:"收藏",favorite:!1,classMap:["decrease","discount","special","invoice","guarantee"]}},props:{seller:{type:Object,default:function(){return{}}}},components:{split:j,star:n},methods:{toggleFavorite:function(){"已收藏"===this.favoriteText?(this.favoriteText="收藏",this.favorite=!1):"收藏"===this.favoriteText&&(this.favoriteText="已收藏",this.favorite=!0)}},created:function(){var t=this;this.$nextTick(function(){new t.$bs(t.$refs.seller,{probeType:3,swipeTime:2500,deceleration:.001,tap:!0})})}},G={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"seller",staticClass:"seller"},[s("div",{staticClass:"seller-content"},[s("div",{staticClass:"overview"},[s("h1",{staticClass:"title"},[t._v(t._s(t.seller.name))]),t._v(" "),s("div",{staticClass:"desc border-1px"},[s("star",{attrs:{size:36,score:t.seller.score}}),t._v(" "),s("span",{staticClass:"text"},[t._v("("+t._s(t.seller.ratingCount)+")")]),t._v(" "),s("span",{staticClass:"text"},[t._v("月售"+t._s(t.seller.sellCount)+"单")])],1),t._v(" "),s("ul",{staticClass:"remark"},[s("li",{staticClass:"block"},[s("h2",[t._v("起送价")]),t._v(" "),s("div",{staticClass:"content"},[s("span",{staticClass:"stress"},[t._v(t._s(t.seller.minPrice))]),t._v("元\n                    ")])]),t._v(" "),s("li",{staticClass:"block"},[s("h2",[t._v("商家配送")]),t._v(" "),s("div",{staticClass:"content"},[s("span",{staticClass:"stress"},[t._v(t._s(t.seller.deliveryPrice))]),t._v("元\n                    ")])]),t._v(" "),s("li",{staticClass:"block"},[s("h2",[t._v("平均配送时间")]),t._v(" "),s("div",{staticClass:"content"},[s("span",{staticClass:"stress"},[t._v(t._s(t.seller.deliveryTime))]),t._v("分钟\n                    ")])])]),t._v(" "),s("div",{staticClass:"favorite"},[s("svg",{staticClass:"icon",class:{active:t.favorite},attrs:{"aria-hidden":"true"},on:{tap:t.toggleFavorite}},[s("use",{attrs:{"xlink:href":"#icon-favorite"}})]),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(t.favoriteText))])])]),t._v(" "),s("split"),t._v(" "),s("div",{staticClass:"bulletin"},[s("h1",{staticClass:"title"},[t._v("公告与活动")]),t._v(" "),s("div",{staticClass:"content-wrapper border-1px"},[s("p",{staticClass:"content"},[t._v(t._s(t.seller.bulletin))])]),t._v(" "),t.seller.supports?s("ul",{staticClass:"supports"},t._l(t.seller.supports,function(e,a){return s("li",{staticClass:"support-item border-1px"},[s("span",{staticClass:"icon",class:t.classMap[t.seller.supports[a].type]}),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[a].description))])])})):t._e()]),t._v(" "),s("split"),t._v(" "),s("div",{staticClass:"pics"},[s("h1",{staticClass:"title"},[t._v("商家实景")]),t._v(" "),s("div",{ref:"picWrapper",staticClass:"pic-wrapper"},[s("ul",{ref:"picList",staticClass:"pic-list"},t._l(t.seller.pics,function(t){return s("li",{staticClass:"pic-item"},[s("img",{attrs:{src:t,width:"120",height:"90"}})])}))])]),t._v(" "),s("split"),t._v(" "),s("div",{staticClass:"info"},[s("h1",{staticClass:"title border-1px"},[t._v("商家信息")]),t._v(" "),s("ul",t._l(t.seller.infos,function(e){return s("li",{staticClass:"info-item border-1px"},[t._v(t._s(e))])}))])],1)])},staticRenderFns:[]},L=s("Mw9A")(P,G,!1,function(t){s("dVeV")},null,null).exports;a.a.use(h.a);var V=[{path:"/",component:M},{path:"/goods",component:M},{path:"/ratings",component:D},{path:"/seller",component:L}],W=new h.a({routes:V}),z=s("2sCs"),B=s.n(z),J=s("Ig8c");a.a.use(g.a);var U={addItem:function(t,e){(0,t.commit)("ADD",e)},reduceItem:function(t,e){(0,t.commit)("REDUCE",e)},init:function(t){B.a.get("/data.json").then(function(e){var s={},a=e.data.goods;a.forEach(function(t){t.foods.forEach(function(t){t.count=0,s[t.name]=t})}),t.commit("INITGOODS",a),t.commit("INITSELECTED",s)}).then(function(){t.commit("FLAGS")})}},Y=new g.a.Store({state:{goods:"",selected:"",flags:!1},mutations:{ADD:function(t,e){t.selected[e.name].count+=1},REDUCE:function(t,e){e.count>0&&(t.selected[e.name].count-=1)},INITGOODS:function(t,e){t.goods=e},INITSELECTED:function(t,e){t.selected=e},FLAGS:function(t){t.flags=!0}},actions:U});a.a.prototype.$http=B.a,a.a.prototype.$bs=J.a,new a.a({el:"#app",router:W,store:Y,data:{eventHub:new a.a},render:function(t){return t(p)}})},PiCS:function(t,e){},bWJu:function(t,e){},dVeV:function(t,e){},g1vV:function(t,e){},j1lm:function(t,e){},mV0Q:function(t,e){},t1iC:function(t,e){},vmTm:function(t,e){},x2OY:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f43f486e6c6516ebc550.js.map